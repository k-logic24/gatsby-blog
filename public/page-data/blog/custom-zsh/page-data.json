{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/blog/custom-zsh/","result":{"data":{"site":{"siteMetadata":{"title":"K.Iwata's BLOG"}},"markdownRemark":{"id":"8b8bf544-f3fd-57b2-a549-2e85dbabb099","excerpt":"お恥ずかしい話、プログラマーの身でありながら、シェルにこだわりを持っていませんでした。 npm や node.js, その他のコマンドを打つ上で視認性、実用性を見直す様になり、zsh シェルのカスタムを行いました。 その一連の流れを備忘録として記事にしていきます。 ここでは、zsh…","html":"<p>お恥ずかしい話、プログラマーの身でありながら、シェルにこだわりを持っていませんでした。</p>\n<p>npm や node.js, その他のコマンドを打つ上で視認性、実用性を見直す様になり、zsh シェルのカスタムを行いました。<br>\nその一連の流れを備忘録として記事にしていきます。</p>\n<p>ここでは、zsh のセットアップから、テーマ、コマンドの色付け、alias について執筆します。</p>\n<h2 id=\"使用シェルを確認する\">使用シェルを確認する</h2>\n<p>まず自身のログインシェルを確認しましょう。<br>\nログインして最初に動き出すシェルのことです。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">echo $SHELL\n\n// 使用シェルのパスが出てくる\n/usr/local/bin/zsh</code></pre></div>\n<p>zsh が使用されていればそのまま使用します。<br>\nもし、bash など他のシェルを使用しているならば zsh に変更する必要があります。</p>\n<h2 id=\"使用シェルを-zsh-へ変更する\">使用シェルを zsh へ変更する</h2>\n<p>zsh をインストールします。<br>\nここでは Homebrew を利用しています。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">brew install zsh</code></pre></div>\n<p>使用できるシェルを確認しましょう。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo vi /etc/shells\nPassword:</code></pre></div>\n<p>すると使用できるシェルのパスがずらっと出てきます。<br>\n以下の様な見た目です。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ee02add8fe164f83e252693425bec2f5/c1c45/shell-check.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.835443037974684%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABEElEQVQoz5WS2Y7CMAxF84KgLVkoXei+gmj///8uudaAEBqqmQfLTuoe59pW67qiaRpUVYWiKNB1Ha7XK/q+R13XmOdZvpVliXEccb/fxWdZBq01rLWIogjOOZyTBIoAJg3DILBpmiS+3W6vQmmaijFmkTzPpQChjOmZyxwVx7EErJT4CpfLRc5M5N1+v8fhcEAQBOK3jDmKAFrbtgLY7XYCeYLCMNy041F76QZHL59nRYnsEyUSyCrvP3yeP++NMbDOio+tB7L57NmyLKD8v7zqHehijTix3gzOqYMi7DkIJn170fcXOhivzDoNdzpBcQUI5IR/k7wF5LrIQP3KEEb/ksw+EvgfyQRyF4OfCdMeAeHXaOm8smYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"shell check\"\n        title=\"shell check\"\n        src=\"/static/ee02add8fe164f83e252693425bec2f5/f058b/shell-check.png\"\n        srcset=\"/static/ee02add8fe164f83e252693425bec2f5/c26ae/shell-check.png 158w,\n/static/ee02add8fe164f83e252693425bec2f5/6bdcf/shell-check.png 315w,\n/static/ee02add8fe164f83e252693425bec2f5/f058b/shell-check.png 630w,\n/static/ee02add8fe164f83e252693425bec2f5/c1c45/shell-check.png 824w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>確認後はインストールした zsh までのパスを追記します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// 最後の行に書き込む\n/usr/local/bin/zsh</code></pre></div>\n<p>ログインシェルを変更しましょう。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">chsh -s /usr/local/bin/zsh</code></pre></div>\n<p>変更が終わりましたら、確認をしましょう。<br>\n確認のために、一回ターミナルを終了して再度開きましょう。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">echo $SHELL\n\n/usr/local/bin/zsh</code></pre></div>\n<p>以上で zsh がログインシェルになりました。</p>\n<h2 id=\"oh-my-zsh-を導入\">oh-my-zsh を導入</h2>\n<p>zsh のフレームワークになります。様々なプラグインが入っています。<br>\nテーマであったり、alias など、設定が可能になっています。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;</code></pre></div>\n<p>すると、ホームディレクトリに.zshrc ファイル（設定ファイル）が作成されます。<br>\nこのファイルをカスタマイズしていくことになります。</p>\n<h2 id=\"zshrc-の設定\">.zshrc の設定</h2>\n<h3 id=\"プロンプト変更\">プロンプト変更</h3>\n<p>テーマを変更してみましょう。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">vi ~/.zshrc</code></pre></div>\n<p>ずらっと設定内容が出てきますが、その中で<code class=\"language-text\">ZSH_THEME=&quot;robbyrussell&quot;</code>が設定されているので、別テーマに変えてみましょう。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// 10行目にあります。\n// ここではclearというテーマを設定しています。\nZSH_THEME=&quot;clear&quot;</code></pre></div>\n<p>変更後は<code class=\"language-text\">source ~/.zshrc</code>を実行しないと変更が反映されませんので、忘れず行ってください。</p>\n<p>その他のテーマは以下の GitHub Wiki を参照ください。\n<a href=\"https://github.com/ohmyzsh/ohmyzsh/wiki/Themes\">oh-my-zsh theme</a></p>\n<h3 id=\"コマンドの色付け\">コマンドの色付け</h3>\n<p><code class=\"language-text\">npx</code>であったり、<code class=\"language-text\">cd</code>といったコマンドに色をつけるための設定です。<br>\nzsh-syntax-highlighting を git clone します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting</code></pre></div>\n<p>clone できましたら、先ほどと同じ様に<code class=\"language-text\">vi ~/.zshrc</code>を行い、設定を変更します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// 54行目のpluginsを変更\nplugins=(git zsh-syntax-highlighting)</code></pre></div>\n<p>これで、コマンドの色付けは完了しました。</p>\n<h3 id=\"alias\">alias</h3>\n<p>oh-my-zsh にはデフォルトで alias がたくさん入っています。<br>\nなにが設定されているかは、<code class=\"language-text\">alias</code>と打つと確認できます。</p>\n<p>追加でカスタムエイリアスを設定したい際には、<code class=\"language-text\">.zshrc</code>ファイルに<code class=\"language-text\">alias ...</code>と追記します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// 例\nalias yad=&#39;yarn add --dev&#39;</code></pre></div>\n<h2 id=\"注意点\">注意点</h2>\n<ul>\n<li>oh-my-zsh は比較的重いです。動作はデフォルトよりも重くなりますので、気になる人は使用を控えた方がいいかもです。</li>\n<li>テーマ変更の際に注意書きしましたが、変更を反映したい際は<code class=\"language-text\">source ~/.zshrc</code>で登録しましょう。</li>\n</ul>\n<h2 id=\"変更後の感想\">変更後の感想</h2>\n<p>見た目が変わったことで、視認性がよく使いやすくなりました。<br>\nやはり見た目が変わると、コマンドを打つのが楽しくなってきますね。</p>\n<p>「黒い画面、苦手…」と思っている方は、少しでも見た目から自分好みのものにしていくと愛着が湧いてくるかもしれません（技術的には頑張っていかないといけませんが…）。</p>","frontmatter":{"title":"zshシェルをカスタマイズする方法","date":"2020-12-02","description":null,"hero":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAQX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABnqT1bFGh/8QAGRAAAwEBAQAAAAAAAAAAAAAAAAECEgMT/9oACAEBAAEFAkyI2ZRHJew2f//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABkQAAIDAQAAAAAAAAAAAAAAABARABIhYf/aAAgBAQAGPwKcFHiZ/8QAGxABAAMBAAMAAAAAAAAAAAAAAQARIVExYYH/2gAIAQEAAT8hv12IdzvsoAAAlgkj6eoYUGE08T//2gAMAwEAAgADAAAAECDv/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHhABAAICAQUAAAAAAAAAAAAAAQARITFhQVFxodH/2gAIAQEAAT8QSq20ceDpLwEcI9D7AZQoDQQBoSxSO7iUMAFAaJRD/9k=","aspectRatio":1.5,"src":"/static/af19b7b0c75c81bcab1f851f84a8cb38/9842e/shell-display.jpg","srcSet":"/static/af19b7b0c75c81bcab1f851f84a8cb38/07ab6/shell-display.jpg 225w,\n/static/af19b7b0c75c81bcab1f851f84a8cb38/32fd5/shell-display.jpg 450w,\n/static/af19b7b0c75c81bcab1f851f84a8cb38/9842e/shell-display.jpg 900w","srcWebp":"/static/af19b7b0c75c81bcab1f851f84a8cb38/210c1/shell-display.webp","srcSetWebp":"/static/af19b7b0c75c81bcab1f851f84a8cb38/975bf/shell-display.webp 225w,\n/static/af19b7b0c75c81bcab1f851f84a8cb38/b8a88/shell-display.webp 450w,\n/static/af19b7b0c75c81bcab1f851f84a8cb38/210c1/shell-display.webp 900w","sizes":"(max-width: 900px) 100vw, 900px"}}}},"tableOfContents":"<ul>\n<li><a href=\"#%E4%BD%BF%E7%94%A8%E3%82%B7%E3%82%A7%E3%83%AB%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B\">使用シェルを確認する</a></li>\n<li><a href=\"#%E4%BD%BF%E7%94%A8%E3%82%B7%E3%82%A7%E3%83%AB%E3%82%92-zsh-%E3%81%B8%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B\">使用シェルを zsh へ変更する</a></li>\n<li><a href=\"#oh-my-zsh-%E3%82%92%E5%B0%8E%E5%85%A5\">oh-my-zsh を導入</a></li>\n<li>\n<p><a href=\"#zshrc-%E3%81%AE%E8%A8%AD%E5%AE%9A\">.zshrc の設定</a></p>\n<ul>\n<li><a href=\"#%E3%83%97%E3%83%AD%E3%83%B3%E3%83%97%E3%83%88%E5%A4%89%E6%9B%B4\">プロンプト変更</a></li>\n<li><a href=\"#%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%AE%E8%89%B2%E4%BB%98%E3%81%91\">コマンドの色付け</a></li>\n<li><a href=\"#alias\">alias</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%B3%A8%E6%84%8F%E7%82%B9\">注意点</a></li>\n<li><a href=\"#%E5%A4%89%E6%9B%B4%E5%BE%8C%E3%81%AE%E6%84%9F%E6%83%B3\">変更後の感想</a></li>\n</ul>"}},"pageContext":{"slug":"/custom-zsh/","previous":{"fields":{"slug":"/put-the-content/"},"frontmatter":{"title":"put_the_contentsでハマった話","tags":["php"]}},"next":{"fields":{"slug":"/daily-policy/"},"frontmatter":{"title":"日記みたいなもの","tags":null}}}},"staticQueryHashes":["3534452819","984448874"]}