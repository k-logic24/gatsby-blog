{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/blog/nextjs-with-tailwind/","result":{"data":{"site":{"siteMetadata":{"title":"K.Iwata's BLOG"}},"markdownRemark":{"id":"ab587a5b-822a-5148-82f2-a1b9103d7d22","excerpt":"要約 Next.js で TailwindCSS を使用したプロジェクトを立ち上げるために、構築方法を書いていきます。 TailwindCSS はユーティリティに特化した CSS フレームワークです。 詳しくは以下のリンクから確認してください。\nTailwind CSS…","html":"<h2 id=\"要約\">要約</h2>\n<p>Next.js で TailwindCSS を使用したプロジェクトを立ち上げるために、構築方法を書いていきます。</p>\n<p>TailwindCSS はユーティリティに特化した CSS フレームワークです。<br>\n詳しくは以下のリンクから確認してください。\n<a href=\"https://tailwindcss.com/\">Tailwind CSS</a></p>\n<p>なお、今回使用するモジュールは以下の通りです。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&quot;next&quot;: &quot;9.5.3&quot;,\n&quot;react&quot;: &quot;16.13.1&quot;,\n&quot;react-dom&quot;: &quot;16.13.1&quot;,\n&quot;tailwindcss&quot;: &quot;1.8.10&quot;</code></pre></div>\n<h2 id=\"nextjs-プロジェクトを立ち上げる\">next.js プロジェクトを立ち上げる</h2>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ npx create-next-app nextjs-with-tailwind\n\n// プロジェクトまで移動しておきます\n$ <span class=\"token builtin class-name\">cd</span> nextjs-with-tailwind</code></pre></div>\n<h2 id=\"tailwind-css-を導入する\">Tailwind CSS を導入する</h2>\n<p>まずモジュールをインストールしましょう。</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> tailwindcss --save-dev</code></pre></div>\n<p>次に設定ファイルを作成します。</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ npx tailwindcss init</code></pre></div>\n<p>すると同階層に tailwind.config.js が作成されたと思います。</p>\n\n        <div class=\"gatsby-code-title md-label\">\n          <span>tailwind.config.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  purge<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  theme<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    extend<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  variants<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>詳しくは説明しませんが、ここでは purge の部分を書き加えていきます。<br>\npurge とは、対象のファイルの使用クラス以外の未使用クラスを排除してくれる機能です。</p>\n<p>ここでは以下の様に設定します。</p>\n\n        <div class=\"gatsby-code-title md-label\">\n          <span>tailwind.config.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  purge<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'./components/**/*.jsx'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'./pages/**/*.jsx'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  theme<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    extend<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  variants<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>こうすることで、components と pages ディレクトリ配下、.jsx ファイルをみて、未使用クラスを削除してくれます。<br>\n<strong>※purge しないとファイルサイズが膨大になりますので、ここは設定することを推奨します。</strong></p>\n<p>最後に、コンパイルするための postcss.config.js を作成します。<br>\nまずは必要モジュールをインストールします。</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> postcss-preset-env --save-dev</code></pre></div>\n<p>次にファイルを作成します。</p>\n\n        <div class=\"gatsby-code-title md-label\">\n          <span>postcss.config.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'tailwindcss'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'postcss-preset-env'</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>これで、Tailwind CSS 導入は終わりです。</p>\n<h2 id=\"tailwind-css-を使用する\">Tailwind CSS を使用する</h2>\n<p>styles の中に global.css がありますので、そちらに読み込んでいきましょう。<br>\nglobal.css は pages/_app.js で読み込まれています。</p>\n<p>試しに.btn-blue クラスを作成してみます。</p>\n\n        <div class=\"gatsby-code-title md-label\">\n          <span>global.css</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> base<span class=\"token punctuation\">;</span></span>\n<span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> components<span class=\"token punctuation\">;</span></span>\n<span class=\"token selector\">.btn-blue</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> bg-blue-500 text-white font-bold py-2 px-4 rounded<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> utilities<span class=\"token punctuation\">;</span></span></code></pre></div>\n<p>そして、pages/index.jsx を以下の様に書き換えてみます。</p>\n\n        <div class=\"gatsby-code-title md-label\">\n          <span>pages/index.jsx</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> Head <span class=\"token keyword\">from</span> <span class=\"token string\">'next/head'</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Home</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>h-screen w-4/5 max-w-5xl mx-auto flex items-center justify-center flex-col<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mb-4 text-green-500 text-3xl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">サンプル</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mb-2 text-center<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Assumenda blanditiis consequatur eius hic ipsam nostrum omnis optio! Doloribus quaerat quis ratione? At, maiores voluptas? Eveniet odio omnis repellendus sapiente voluptatibus.</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btn-blue<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Let's Start!!</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Home</code></pre></div>\n<p>一方、UI はどうなったのかというと…\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/605385a47ecb4ecc6286026b0632b445/e24fe/result-ui.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.54430379746836%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsklEQVQoz41R2wrCMAzd/+Pf+AE++y74IupoB3UvW1tk9npsO1bnHLMHwklDcpImlfceW5YR3JLcCgt8i4yJLvHn/dNsVlulAueSreFpBnRKYLBqVWCqzRNqrcE5hxACjDFQStE0TeZrTXC+3FATCkIIaIjFePTbtoWUEn3fw1o7Cs6/YIxBbBBZBYY32J867A4PHO8ScCGudMqJNols7nAJHTbxsqGZw1/kHRZdGWVXfgNlOiXW5vdcqQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"result ui\"\n        title=\"result ui\"\n        src=\"/static/605385a47ecb4ecc6286026b0632b445/f058b/result-ui.png\"\n        srcset=\"/static/605385a47ecb4ecc6286026b0632b445/c26ae/result-ui.png 158w,\n/static/605385a47ecb4ecc6286026b0632b445/6bdcf/result-ui.png 315w,\n/static/605385a47ecb4ecc6286026b0632b445/f058b/result-ui.png 630w,\n/static/605385a47ecb4ecc6286026b0632b445/40601/result-ui.png 945w,\n/static/605385a47ecb4ecc6286026b0632b445/e24fe/result-ui.png 1073w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\nしっかり反映されています。</p>\n<h2 id=\"楽するために\">楽するために</h2>\n<p>個人的に css 命名で苦しむことが多くありました。<br>\nそのことから、Tailwind CSS を使用して、より開発に集中できる環境を作りたいと思い、この記事を執筆した次第です。</p>\n<p>Tailwind CSS はユーティリティークラスを基調としたカスタマイズ性に富んでいることも大きな魅力です。<br>\n@apply だけでなく、@screen や theme 関数など便利な機能もあります。</p>\n<p>私自身も、積極的に取り入れて開発を進めていきたいですね。</p>\n<h2 id=\"ps\">P.S</h2>\n<p>Tailwind CSS 公式もいいですが、一目でクラス名を確認できるチートシートが存在します。<br>\n<a href=\"https://nerdcave.com/tailwind-cheat-sheet\">Tailwind CSS チートシート</a></p>","frontmatter":{"title":"Next.js with Tailwind CSS 環境構築","date":"2020-12-06","description":null,"hero":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAHk3JKiP//EABgQAAMBAQAAAAAAAAAAAAAAAAABESAh/9oACAEBAAEFAkqQfMf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAXEAEBAQEAAAAAAAAAAAAAAAABABEg/9oACAEBAAE/IYLCGseP/9oADAMBAAIAAwAAABDgH//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABkQAQEAAwEAAAAAAAAAAAAAAAERACBhIf/aAAgBAQABPxBFCXuUFHhi+BeN0//Z","aspectRatio":1.5,"src":"/static/4bc0fe0df01df0f352cec3ddec9301b1/9842e/tc-next.jpg","srcSet":"/static/4bc0fe0df01df0f352cec3ddec9301b1/07ab6/tc-next.jpg 225w,\n/static/4bc0fe0df01df0f352cec3ddec9301b1/32fd5/tc-next.jpg 450w,\n/static/4bc0fe0df01df0f352cec3ddec9301b1/9842e/tc-next.jpg 900w","srcWebp":"/static/4bc0fe0df01df0f352cec3ddec9301b1/210c1/tc-next.webp","srcSetWebp":"/static/4bc0fe0df01df0f352cec3ddec9301b1/975bf/tc-next.webp 225w,\n/static/4bc0fe0df01df0f352cec3ddec9301b1/b8a88/tc-next.webp 450w,\n/static/4bc0fe0df01df0f352cec3ddec9301b1/210c1/tc-next.webp 900w","sizes":"(max-width: 900px) 100vw, 900px"},"sizes":{"src":"/static/4bc0fe0df01df0f352cec3ddec9301b1/14b42/tc-next.jpg"}}}},"tableOfContents":"<ul>\n<li><a href=\"#%E8%A6%81%E7%B4%84\">要約</a></li>\n<li><a href=\"#nextjs-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E7%AB%8B%E3%81%A1%E4%B8%8A%E3%81%92%E3%82%8B\">next.js プロジェクトを立ち上げる</a></li>\n<li><a href=\"#tailwind-css-%E3%82%92%E5%B0%8E%E5%85%A5%E3%81%99%E3%82%8B\">Tailwind CSS を導入する</a></li>\n<li><a href=\"#tailwind-css-%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B\">Tailwind CSS を使用する</a></li>\n<li><a href=\"#%E6%A5%BD%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AB\">楽するために</a></li>\n<li><a href=\"#ps\">P.S</a></li>\n</ul>"}},"pageContext":{"slug":"/nextjs-with-tailwind/","previous":{"fields":{"slug":"/how-promise-all/"},"frontmatter":{"title":"Promise.allによるストレスフリーUI実現","tags":["javascript"]}},"next":{"fields":{"slug":"/github-branch-main/"},"frontmatter":{"title":"なぜGithubブランチはmasterからmainに？","tags":["github"]}}}},"staticQueryHashes":["253180232","3413841318"]}