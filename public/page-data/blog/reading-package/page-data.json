{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/blog/reading-package/","result":{"data":{"site":{"siteMetadata":{"title":"K.Iwata's BLOG"}},"markdownRemark":{"id":"96235641-0758-5fbc-91ca-f24119b718fa","excerpt":"フロントエンドではパッケージのバージョンによって仕様が変わり、前まで動いてたのに…ってことが結構あります(そのためにlockファイルが存在しているのですが…)。 ところで、package.json…","html":"<p>フロントエンドではパッケージのバージョンによって仕様が変わり、前まで動いてたのに…ってことが結構あります(そのためにlockファイルが存在しているのですが…)。</p>\n<p>ところで、package.jsonに記述される<code class=\"language-text\">&quot;xxx&quot;: ^o.o.o</code>\nこの読み方わかりますでしょうか。^は何を指しているのでしょうか。</p>\n<p>今回は、スルーされそうなバージョン指定の読み方について紹介します。</p>\n<h2 id=\"概要図\">概要図</h2>\n<p>この概要図が非常にわかりやすいと思います。\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8f5a7e1b5b2b4bc5bd090a7dbc30ba7c/a2510/version.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.21518987341771%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHvNiLFf//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEAAQUCX//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABgQAQADAQAAAAAAAAAAAAAAAAEAEDER/9oACAEBAAE/IVg0nYblf//aAAwDAQACAAMAAAAQn8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAZEAEBAQEBAQAAAAAAAAAAAAABABEhQVH/2gAIAQEAAT8QQ5iXSN9IBjIED0+ZHS//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"version\"\n        title=\"version\"\n        src=\"/static/8f5a7e1b5b2b4bc5bd090a7dbc30ba7c/828fb/version.jpg\"\n        srcset=\"/static/8f5a7e1b5b2b4bc5bd090a7dbc30ba7c/ff44c/version.jpg 158w,\n/static/8f5a7e1b5b2b4bc5bd090a7dbc30ba7c/a6688/version.jpg 315w,\n/static/8f5a7e1b5b2b4bc5bd090a7dbc30ba7c/828fb/version.jpg 630w,\n/static/8f5a7e1b5b2b4bc5bd090a7dbc30ba7c/0ede0/version.jpg 945w,\n/static/8f5a7e1b5b2b4bc5bd090a7dbc30ba7c/a2510/version.jpg 1000w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<blockquote>\n<p><a href=\"https://bytearcher.com/goodies/semantic-versioning-cheatsheet/\">https://bytearcher.com/goodies/semantic-versioning-cheatsheet/</a>　より</p>\n</blockquote>\n<p>主に3つの構造になっています。</p>\n<ul>\n<li>major</li>\n<li>minor</li>\n<li>patch</li>\n</ul>\n<p>それぞれで変更された度合いが違います。それぞれみていきましょう。</p>\n<h3 id=\"major\">major</h3>\n<p><strong>破壊的変更</strong>のときに更新されます。\n破壊的、怖い文面ですが要するに、「以前と異なる結果を引き起こしうる変更」です。</p>\n<p>身近で言うと、webpackがv4からv5に変化しましたね。変更点も大きく、いまだ改良がなされていますがissueが多くあり、安定しているとは言い難い状態です。</p>\n<h3 id=\"minor\">minor</h3>\n<p><strong>既存の機能に影響を与えない程度の変更</strong>です。バグの修正やセキュリティなどの対応が当たります。</p>\n<h3 id=\"patch\">patch</h3>\n<p><strong>軽微なバグ</strong>を直した際に更新されます。</p>\n<h2 id=\"version指定記号\">version指定記号</h2>\n<h3 id=\"version\">version</h3>\n<p>指定versionと一緒のバージョンがインストールされます。</p>\n\n        <div class=\"gatsby-code-title md-label\">\n          <span>package.json</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"sample\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"version-1\">>version</h3>\n<p>指定versionより大きいversionがインストールされます。</p>\n\n        <div class=\"gatsby-code-title md-label\">\n          <span>package.json</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"sample\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\">1.0.0\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>その他、>=, &#x3C;=, &#x3C; など、その意味通りのversionがインストールされます。</p>\n<h3 id=\"version---version\">version - version</h3>\n<p>指定範囲を設定できます。</p>\n\n        <div class=\"gatsby-code-title md-label\">\n          <span>package.json</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"sample\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0 - 2.0.0\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>この例だと、<code class=\"language-text\">1.0.0 &lt;= x.x.x &lt;= 2.0.0</code> となります。</p>\n<h3 id=\"x\">*,x</h3>\n<p>ワイルドカードとして扱えます。</p>\n\n        <div class=\"gatsby-code-title md-label\">\n          <span>package.json</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"name1\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"*\"</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">// あらゆるversion</span>\n    <span class=\"token property\">\"name2\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.x.x\"</span><span class=\"token punctuation\">,</span>    <span class=\"token comment\">// >=1.0.0 and &lt;2.0.0</span>\n    <span class=\"token property\">\"name3\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span>      <span class=\"token comment\">// *と同じ</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"version-2\">^version</h3>\n<p>caret(キャレット)といい、<strong>一番左の0以外の数字のバージョンを更新しないような、更新</strong>が可能となります。</p>\n\n        <div class=\"gatsby-code-title md-label\">\n          <span>package.json</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"name1\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^1.1.1\"</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">// >=1.1.1 and &lt;2.0.0</span>\n    <span class=\"token property\">\"name2\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^0.1.1\"</span><span class=\"token punctuation\">,</span>    <span class=\"token comment\">// >=0.1.1 and &lt;0.2.0</span>\n    <span class=\"token property\">\"name3\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^0.0.1\"</span>      <span class=\"token comment\">// >=0.0.1 and &lt;0.0.2</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"version-3\">~version</h3>\n<p>tilda(チルダ)といい、<strong>minorバージョンが明記されている場合はpatchバージョン部分の更新ができ、そうでない場合はminorバージョンの更新</strong>が可能となります。</p>\n\n        <div class=\"gatsby-code-title md-label\">\n          <span>package.json</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"name1\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"~1.1.1\"</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">// >=1.1.1 and &lt;1.2.0</span>\n    <span class=\"token property\">\"name2\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"~1.1\"</span><span class=\"token punctuation\">,</span>    <span class=\"token comment\">// >=1.1.0 and &lt;1.2.0</span>\n    <span class=\"token property\">\"name3\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"~1\"</span>      <span class=\"token comment\">// >=1.1.0 and &lt;2.0.0</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"感想\">感想</h2>\n<p>バージョンの違いによっては環境が作動しないことがあります。\nこのように読み方を知っていると、難なく乗り越えられる気がします。</p>","frontmatter":{"title":"Package.jsonのバージョンの読み方、知ってる？","date":"2020-12-14","description":null,"hero":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgX/xAAWAQEBAQAAAAAAAAAAAAAAAAABAAL/2gAMAwEAAhADEAAAAcoluxBYb//EABcQAAMBAAAAAAAAAAAAAAAAAAAQEQH/2gAIAQEAAQUCUMIv/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFhEBAQEAAAAAAAAAAAAAAAAAABES/9oACAECAQE/AYy//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGBAAAwEBAAAAAAAAAAAAAAAAAAERMXH/2gAIAQEAAT8hWaicKGg0aIf/2gAMAwEAAgADAAAAEIc//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFhEAAwAAAAAAAAAAAAAAAAAAARBR/9oACAECAQE/EBSf/8QAHBABAAIDAAMAAAAAAAAAAAAAAQARMUFRYYGR/9oACAEBAAE/EKOA+SWdP3GzB9I6qhORVrcQKcn/2Q==","aspectRatio":1.5,"src":"/static/96673e1db1b9a0895627031971f9c2b6/9842e/javascript.jpg","srcSet":"/static/96673e1db1b9a0895627031971f9c2b6/07ab6/javascript.jpg 225w,\n/static/96673e1db1b9a0895627031971f9c2b6/32fd5/javascript.jpg 450w,\n/static/96673e1db1b9a0895627031971f9c2b6/9842e/javascript.jpg 900w","srcWebp":"/static/96673e1db1b9a0895627031971f9c2b6/210c1/javascript.webp","srcSetWebp":"/static/96673e1db1b9a0895627031971f9c2b6/975bf/javascript.webp 225w,\n/static/96673e1db1b9a0895627031971f9c2b6/b8a88/javascript.webp 450w,\n/static/96673e1db1b9a0895627031971f9c2b6/210c1/javascript.webp 900w","sizes":"(max-width: 900px) 100vw, 900px"},"sizes":{"src":"/static/96673e1db1b9a0895627031971f9c2b6/14b42/javascript.jpg"}}}},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%E6%A6%82%E8%A6%81%E5%9B%B3\">概要図</a></p>\n<ul>\n<li><a href=\"#major\">major</a></li>\n<li><a href=\"#minor\">minor</a></li>\n<li><a href=\"#patch\">patch</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#version%E6%8C%87%E5%AE%9A%E8%A8%98%E5%8F%B7\">version指定記号</a></p>\n<ul>\n<li><a href=\"#version\">version</a></li>\n<li><a href=\"#version-1\">>version</a></li>\n<li><a href=\"#version---version\">version - version</a></li>\n<li><a href=\"#x\">*,x</a></li>\n<li><a href=\"#version-2\">^version</a></li>\n<li><a href=\"#version-3\">~version</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%84%9F%E6%83%B3\">感想</a></li>\n</ul>"}},"pageContext":{"slug":"/reading-package/","previous":{"fields":{"slug":"/github-branch-main/"},"frontmatter":{"title":"なぜGithubブランチはmasterからmainに？","tags":["github"]}},"next":{"fields":{"slug":"/auth-firebase-react/"},"frontmatter":{"title":"今更ながらのNext.js + TypeScript + Firebaseで認証機能を実装する","tags":["react","firebase"]}}}},"staticQueryHashes":["253180232","3413841318"]}