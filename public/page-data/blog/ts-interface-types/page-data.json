{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/blog/ts-interface-types/","result":{"data":{"site":{"siteMetadata":{"title":"K.Iwata's BLOG"}},"markdownRemark":{"id":"6a30dd83-fbdb-5894-9680-3ab5194cc72e","excerpt":"TypeScript を使用することが多くなってきている世の中ですが、ふと思ったことがあります。 「型定義、Type と Interface ってどっち使えばええんや…」 ということで検証してみました。 概略 Type(正確には Type Aliases…","html":"<p>TypeScript を使用することが多くなってきている世の中ですが、ふと思ったことがあります。</p>\n<p>「型定義、Type と Interface ってどっち使えばええんや…」</p>\n<p>ということで検証してみました。</p>\n<h2 id=\"概略\">概略</h2>\n<p>Type(正確には Type Aliases)の定義は以下</p>\n<blockquote>\n<p>複数の場所で再利用しようと思っている型に対して 名前をつける</p>\n</blockquote>\n<p>Interface の定義は以下</p>\n<blockquote>\n<p>オブジェクトや関数、クラスの 仕様を定める</p>\n</blockquote>\n<h2 id=\"検証\">検証</h2>\n<h3 id=\"定義の幅\">定義の幅</h3>\n<p>interface は<strong>オブジェクトと関数の型宣言のみしか使えない</strong><br>\ntype は<strong>オブジェクト、関数以外の型宣言も可能</strong></p>\n<p>概略に示した特徴が出てますね。</p>\n<h3 id=\"マージについて\">マージについて</h3>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">BaseProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span>\n  y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">BaseProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  z<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// Error!</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">IBaseProps</span> <span class=\"token punctuation\">{</span>\n  x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span>\n  y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">IBaseProps</span> <span class=\"token punctuation\">{</span>\n  z<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// Merged!!</span>\n\n<span class=\"token keyword\">const</span> obj<span class=\"token operator\">:</span> IBaseProps <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  x<span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n  y<span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// Error!</span></code></pre></div>\n<p>type はマージされません。<br>\ninterface はマージされます。同じプロパティであれば上書きされます。</p>\n<h3 id=\"MappedTypes\">MappedTypes</h3>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Fruits</span> <span class=\"token operator\">=</span> <span class=\"token string\">'banana'</span> <span class=\"token operator\">|</span> <span class=\"token string\">'apple'</span> <span class=\"token operator\">|</span> <span class=\"token string\">'berry'</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">FruitPrice</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">[</span>key <span class=\"token keyword\">in</span> Fruits<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// OK</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">FruitPrice</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">[</span>key <span class=\"token keyword\">in</span> Fruits<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// Error!</span></code></pre></div>\n<p>interface は MappedTypes は使用できないようです。</p>\n<h2 id=\"交差型\">交差型</h2>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Point</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  x<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span>\n  y<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">SolidPoint</span> <span class=\"token operator\">=</span> Point <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">{</span>\n  y<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">number</span>\n  z<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> obj<span class=\"token operator\">:</span> SolidPoint <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  x<span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n  y<span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\n  z<span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">&amp;</code>を使用すれば型の制約を増やせます。同じプロパティであれば両方を満たす必要があります。<br>\nちなみに<code class=\"language-text\">interface</code>を type に交差させても問題ありません。</p>\n<h2 id=\"逆に共通点\">逆に共通点</h2>\n<ul>\n<li>class への implements ができる</li>\n<li>index シグネチャが使用可能<code class=\"language-text\">[key: string]</code></li>\n</ul>\n<h2 id=\"結論\">結論</h2>\n<p>ケースによるのかなと感じました。<br>\nアプリ制作であったり、web サイトの作成といった規模によっては、使い分けする必要がありますね。</p>\n<p>型の規格を広く定義するときには<code class=\"language-text\">interface</code>、再利用等よく使用するものには<code class=\"language-text\">type</code>っていう認識であってるのかなぁ。。</p>","frontmatter":{"title":"今更ながらのTypeとInterfaceの違い","date":"December 03, 2020","description":"TypeScriptのtypeとinterfaceの違いについてまとめてみました。","hero":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAEDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAAD/9oADAMBAAIQAxAAAAHlZryqD//EABgQAAIDAAAAAAAAAAAAAAAAAAECERIg/9oACAEBAAEFAgsiuf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABcQAQEBAQAAAAAAAAAAAAAAAAERACD/2gAIAQEAAT8hWwmXZTJGcf/aAAwDAQACAAMAAAAQIA//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEAAgIDAAAAAAAAAAAAAAABABEgQSFRYf/aAAgBAQABPxAptLFqoHkXx3LpI11h/9k=","aspectRatio":1.5,"src":"/static/f2cd74137daea4f2a566c8957f16435f/9842e/typescript.jpg","srcSet":"/static/f2cd74137daea4f2a566c8957f16435f/07ab6/typescript.jpg 225w,\n/static/f2cd74137daea4f2a566c8957f16435f/32fd5/typescript.jpg 450w,\n/static/f2cd74137daea4f2a566c8957f16435f/9842e/typescript.jpg 900w","srcWebp":"/static/f2cd74137daea4f2a566c8957f16435f/210c1/typescript.webp","srcSetWebp":"/static/f2cd74137daea4f2a566c8957f16435f/975bf/typescript.webp 225w,\n/static/f2cd74137daea4f2a566c8957f16435f/b8a88/typescript.webp 450w,\n/static/f2cd74137daea4f2a566c8957f16435f/210c1/typescript.webp 900w","sizes":"(max-width: 900px) 100vw, 900px"}}}},"tableOfContents":"<ul>\n<li><a href=\"#%E6%A6%82%E7%95%A5\">概略</a></li>\n<li>\n<p><a href=\"#%E6%A4%9C%E8%A8%BC\">検証</a></p>\n<ul>\n<li><a href=\"#%E5%AE%9A%E7%BE%A9%E3%81%AE%E5%B9%85\">定義の幅</a></li>\n<li><a href=\"#%E3%83%9E%E3%83%BC%E3%82%B8%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">マージについて</a></li>\n<li><a href=\"#mappedtypes\">MappedTypes</a></li>\n</ul>\n</li>\n<li><a href=\"#%E4%BA%A4%E5%B7%AE%E5%9E%8B\">交差型</a></li>\n<li><a href=\"#%E9%80%86%E3%81%AB%E5%85%B1%E9%80%9A%E7%82%B9\">逆に共通点</a></li>\n<li><a href=\"#%E7%B5%90%E8%AB%96\">結論</a></li>\n</ul>"}},"pageContext":{"slug":"/ts-interface-types/","previous":{"fields":{"slug":"/gatsby-image-reuse/"},"frontmatter":{"title":"Gatsby-Imageコンポーネント化して使い回す方法","tags":["react","javascript","gatsby"]}},"next":{"fields":{"slug":"/generate-webp/"},"frontmatter":{"title":"webpackでWebPを生成する方法","tags":["webp","webpack"]}}}},"staticQueryHashes":["3534452819","984448874"]}